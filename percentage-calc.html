<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Percentage Calculator // rowstu.net</title>
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500;600&display=swap" rel="stylesheet">
	<style>
		:root {
			--bg: #1a1d23;
			--surface: #252932;
			--surface-hover: #2d323d;
			--border: #3d4351;
			--text: #e4e7eb;
			--text-muted: #9ca3af;
			--accent: #10b981;
			--accent-hover: #059669;
			--warning: #f59e0b;
			--info: #3b82f6;
		}

		* { margin: 0; padding: 0; box-sizing: border-box; }

		body {
			font-family: 'IBM Plex Mono', monospace;
			background: var(--bg);
			color: var(--text);
			min-height: 100vh;
			padding: 1.5rem;
		}

		.container { max-width: 700px; margin: 0 auto; }

		header { margin-bottom: 1.5rem; }

		h1 {
			font-size: 1.5rem;
			font-weight: 600;
			color: var(--accent);
			margin-bottom: 0.5rem;
		}

		.subtitle { color: var(--text-muted); font-size: 0.875rem; }

		.panel {
			background: var(--surface);
			border: 1px solid var(--border);
			border-radius: 8px;
			padding: 1.25rem;
			margin-bottom: 1rem;
		}

		.panel-header {
			display: flex;
			justify-content: space-between;
			align-items: center;
			margin-bottom: 1rem;
		}

		.panel-title {
			font-size: 0.875rem;
			font-weight: 500;
			color: var(--text-muted);
			text-transform: uppercase;
			letter-spacing: 0.05em;
		}

		.calc-section {
			background: var(--bg);
			border-radius: 6px;
			padding: 1rem;
			margin-bottom: 1rem;
		}

		.calc-section:last-child {
			margin-bottom: 0;
		}

		.calc-title {
			font-size: 0.9rem;
			font-weight: 500;
			color: var(--accent);
			margin-bottom: 0.75rem;
		}

		.calc-row {
			display: flex;
			align-items: center;
			gap: 0.5rem;
			flex-wrap: wrap;
			margin-bottom: 0.75rem;
		}

		.calc-row:last-child {
			margin-bottom: 0;
		}

		.calc-label {
			font-size: 0.85rem;
			color: var(--text-muted);
		}

		input[type="number"] {
			background: var(--surface);
			border: 1px solid var(--border);
			border-radius: 4px;
			padding: 0.5rem 0.75rem;
			color: var(--text);
			font-family: inherit;
			font-size: 0.9rem;
			width: 100px;
			outline: none;
		}

		input[type="number"]:focus {
			border-color: var(--accent);
		}

		input[type="number"]::-webkit-inner-spin-button,
		input[type="number"]::-webkit-outer-spin-button {
			opacity: 1;
		}

		.btn {
			background: var(--accent);
			border: none;
			color: #fff;
			padding: 0.5rem 1rem;
			border-radius: 4px;
			font-family: inherit;
			font-size: 0.8rem;
			font-weight: 500;
			cursor: pointer;
			transition: all 0.15s ease;
		}

		.btn:hover {
			background: var(--accent-hover);
		}

		.result {
			display: inline-block;
			background: var(--surface);
			padding: 0.5rem 0.75rem;
			border-radius: 4px;
			font-size: 1.1rem;
			font-weight: 600;
			color: var(--accent);
			min-width: 80px;
			text-align: center;
		}

		.formula {
			font-size: 0.75rem;
			color: var(--text-muted);
			margin-top: 0.5rem;
			font-style: italic;
		}

		.examples {
			display: flex;
			flex-wrap: wrap;
			gap: 0.5rem;
			margin-top: 0.75rem;
		}

		.example-btn {
			background: var(--surface-hover);
			border: 1px solid var(--border);
			color: var(--text);
			padding: 0.3rem 0.5rem;
			border-radius: 4px;
			font-family: inherit;
			font-size: 0.7rem;
			cursor: pointer;
			transition: all 0.15s ease;
		}

		.example-btn:hover {
			border-color: var(--accent);
			color: var(--accent);
		}

		.info-box {
			background: var(--bg);
			border-radius: 6px;
			padding: 1rem;
			font-size: 0.8rem;
			color: var(--text-muted);
			line-height: 1.6;
		}

		.tip {
			display: flex;
			gap: 0.5rem;
			padding: 0.5rem 0;
			border-bottom: 1px solid var(--border);
		}

		.tip:last-child {
			border-bottom: none;
		}

		.tip-label {
			color: var(--warning);
			font-weight: 500;
			min-width: 120px;
		}

		@media (max-width: 500px) {
			.calc-row {
				flex-direction: column;
				align-items: flex-start;
			}

			input[type="number"] {
				width: 100%;
			}

			.result {
				width: 100%;
			}
		}
	</style>
</head>
<body>
	<div class="container">
		<header>
			<h1>Percentage Calculator</h1>
			<p class="subtitle">Calculate percentages, find values, and percentage changes</p>
		</header>

		<div class="panel">
			<div class="panel-header">
				<span class="panel-title">Calculations</span>
			</div>

			<div class="calc-section">
				<div class="calc-title">What is X% of Y?</div>
				<div class="calc-row">
					<span class="calc-label">What is</span>
					<input type="number" id="pct1" placeholder="25" step="any">
					<span class="calc-label">% of</span>
					<input type="number" id="val1" placeholder="200" step="any">
					<span class="calc-label">=</span>
					<span class="result" id="res1">?</span>
				</div>
				<div class="formula">Formula: (X / 100) × Y</div>
				<div class="examples">
					<button class="example-btn" onclick="setExample1(15, 80)">15% of 80</button>
					<button class="example-btn" onclick="setExample1(20, 150)">20% of 150</button>
					<button class="example-btn" onclick="setExample1(7.5, 1000)">7.5% of 1000</button>
				</div>
			</div>

			<div class="calc-section">
				<div class="calc-title">X is what % of Y?</div>
				<div class="calc-row">
					<input type="number" id="val2a" placeholder="50" step="any">
					<span class="calc-label">is what % of</span>
					<input type="number" id="val2b" placeholder="200" step="any">
					<span class="calc-label">=</span>
					<span class="result" id="res2">?</span>
					<span class="calc-label">%</span>
				</div>
				<div class="formula">Formula: (X / Y) × 100</div>
				<div class="examples">
					<button class="example-btn" onclick="setExample2(30, 120)">30 of 120</button>
					<button class="example-btn" onclick="setExample2(75, 300)">75 of 300</button>
					<button class="example-btn" onclick="setExample2(17, 85)">17 of 85</button>
				</div>
			</div>

			<div class="calc-section">
				<div class="calc-title">X is Y% of what?</div>
				<div class="calc-row">
					<input type="number" id="val3a" placeholder="50" step="any">
					<span class="calc-label">is</span>
					<input type="number" id="pct3" placeholder="25" step="any">
					<span class="calc-label">% of</span>
					<span class="result" id="res3">?</span>
				</div>
				<div class="formula">Formula: X / (Y / 100)</div>
				<div class="examples">
					<button class="example-btn" onclick="setExample3(40, 20)">40 is 20% of ?</button>
					<button class="example-btn" onclick="setExample3(75, 15)">75 is 15% of ?</button>
					<button class="example-btn" onclick="setExample3(12, 8)">12 is 8% of ?</button>
				</div>
			</div>

			<div class="calc-section">
				<div class="calc-title">Percentage Change (from X to Y)</div>
				<div class="calc-row">
					<span class="calc-label">From</span>
					<input type="number" id="val4a" placeholder="80" step="any">
					<span class="calc-label">to</span>
					<input type="number" id="val4b" placeholder="100" step="any">
					<span class="calc-label">=</span>
					<span class="result" id="res4">?</span>
					<span class="calc-label">%</span>
				</div>
				<div class="formula">Formula: ((Y - X) / X) × 100</div>
				<div class="examples">
					<button class="example-btn" onclick="setExample4(50, 75)">50 → 75</button>
					<button class="example-btn" onclick="setExample4(100, 80)">100 → 80</button>
					<button class="example-btn" onclick="setExample4(25, 30)">25 → 30</button>
				</div>
			</div>

			<div class="calc-section">
				<div class="calc-title">Add/Subtract Percentage</div>
				<div class="calc-row">
					<input type="number" id="val5" placeholder="100" step="any">
					<select id="op5" style="background: var(--surface); border: 1px solid var(--border); border-radius: 4px; padding: 0.5rem; color: var(--text); font-family: inherit;">
						<option value="add">+ add</option>
						<option value="sub">− subtract</option>
					</select>
					<input type="number" id="pct5" placeholder="20" step="any">
					<span class="calc-label">% =</span>
					<span class="result" id="res5">?</span>
				</div>
				<div class="formula">Add: X × (1 + Y/100) | Subtract: X × (1 - Y/100)</div>
				<div class="examples">
					<button class="example-btn" onclick="setExample5(100, 20, 'add')">100 + 20%</button>
					<button class="example-btn" onclick="setExample5(150, 10, 'sub')">150 - 10%</button>
					<button class="example-btn" onclick="setExample5(80, 25, 'add')">80 + 25%</button>
				</div>
			</div>
		</div>

		<div class="panel">
			<div class="panel-header">
				<span class="panel-title">Quick Reference</span>
			</div>
			<div class="info-box">
				<div class="tip">
					<span class="tip-label">VAT (20%)</span>
					<span>Multiply by 1.2 to add, divide by 1.2 to remove</span>
				</div>
				<div class="tip">
					<span class="tip-label">Tips (15%)</span>
					<span>Divide by 10, then add half again</span>
				</div>
				<div class="tip">
					<span class="tip-label">Discounts</span>
					<span>20% off = multiply by 0.8, 25% off = multiply by 0.75</span>
				</div>
				<div class="tip">
					<span class="tip-label">Doubling</span>
					<span>100% increase = doubled, 50% increase = 1.5×</span>
				</div>
			</div>
		</div>
	</div>

	<script>
		// Calculator 1: What is X% of Y?
		const pct1 = document.getElementById('pct1');
		const val1 = document.getElementById('val1');
		const res1 = document.getElementById('res1');

		function calc1() {
			const p = parseFloat(pct1.value);
			const v = parseFloat(val1.value);
			if (!isNaN(p) && !isNaN(v)) {
				res1.textContent = formatNumber((p / 100) * v);
			} else {
				res1.textContent = '?';
			}
		}

		pct1.addEventListener('input', calc1);
		val1.addEventListener('input', calc1);

		function setExample1(p, v) {
			pct1.value = p;
			val1.value = v;
			calc1();
		}

		// Calculator 2: X is what % of Y?
		const val2a = document.getElementById('val2a');
		const val2b = document.getElementById('val2b');
		const res2 = document.getElementById('res2');

		function calc2() {
			const a = parseFloat(val2a.value);
			const b = parseFloat(val2b.value);
			if (!isNaN(a) && !isNaN(b) && b !== 0) {
				res2.textContent = formatNumber((a / b) * 100);
			} else {
				res2.textContent = '?';
			}
		}

		val2a.addEventListener('input', calc2);
		val2b.addEventListener('input', calc2);

		function setExample2(a, b) {
			val2a.value = a;
			val2b.value = b;
			calc2();
		}

		// Calculator 3: X is Y% of what?
		const val3a = document.getElementById('val3a');
		const pct3 = document.getElementById('pct3');
		const res3 = document.getElementById('res3');

		function calc3() {
			const v = parseFloat(val3a.value);
			const p = parseFloat(pct3.value);
			if (!isNaN(v) && !isNaN(p) && p !== 0) {
				res3.textContent = formatNumber(v / (p / 100));
			} else {
				res3.textContent = '?';
			}
		}

		val3a.addEventListener('input', calc3);
		pct3.addEventListener('input', calc3);

		function setExample3(v, p) {
			val3a.value = v;
			pct3.value = p;
			calc3();
		}

		// Calculator 4: Percentage change
		const val4a = document.getElementById('val4a');
		const val4b = document.getElementById('val4b');
		const res4 = document.getElementById('res4');

		function calc4() {
			const a = parseFloat(val4a.value);
			const b = parseFloat(val4b.value);
			if (!isNaN(a) && !isNaN(b) && a !== 0) {
				const change = ((b - a) / a) * 100;
				res4.textContent = (change >= 0 ? '+' : '') + formatNumber(change);
				res4.style.color = change >= 0 ? 'var(--accent)' : 'var(--warning)';
			} else {
				res4.textContent = '?';
				res4.style.color = 'var(--accent)';
			}
		}

		val4a.addEventListener('input', calc4);
		val4b.addEventListener('input', calc4);

		function setExample4(a, b) {
			val4a.value = a;
			val4b.value = b;
			calc4();
		}

		// Calculator 5: Add/subtract percentage
		const val5 = document.getElementById('val5');
		const op5 = document.getElementById('op5');
		const pct5 = document.getElementById('pct5');
		const res5 = document.getElementById('res5');

		function calc5() {
			const v = parseFloat(val5.value);
			const p = parseFloat(pct5.value);
			const op = op5.value;
			if (!isNaN(v) && !isNaN(p)) {
				const multiplier = op === 'add' ? (1 + p / 100) : (1 - p / 100);
				res5.textContent = formatNumber(v * multiplier);
			} else {
				res5.textContent = '?';
			}
		}

		val5.addEventListener('input', calc5);
		op5.addEventListener('change', calc5);
		pct5.addEventListener('input', calc5);

		function setExample5(v, p, op) {
			val5.value = v;
			pct5.value = p;
			op5.value = op;
			calc5();
		}

		function formatNumber(n) {
			if (Number.isInteger(n)) return n.toString();
			return n.toFixed(4).replace(/\.?0+$/, '');
		}
	</script>
	<script src="/assets/shared-nav.js"></script>
</body>
</html>
