<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Computer Spy Games - Learn Programming</title>
    <link rel="stylesheet" href="spygames.css">
</head>
<body>
    <header>
        <div class="header-content">
            <h1>üïµÔ∏è Computer Spy Games</h1>
            <p class="subtitle">Learn programming through classic 1984 spy games</p>
            <p class="tagline">Original BASIC ‚Üí Modern JavaScript & Python</p>
        </div>
    </header>

    <nav id="main-nav">
        <ul>
            <li><a href="#basics">BASIC Fundamentals</a></li>
            <li><a href="#spy-eyes">Spy Eyes</a></li>
            <li><a href="#searchlight">Searchlight</a></li>
            <li><a href="#robospy">Robospy</a></li>
            <li><a href="#spy-q-test">Spy Q Test</a></li>
            <li><a href="#secret-message">Secret Message</a></li>
            <li><a href="#morse-coder">Morse Coder</a></li>
        </ul>
    </nav>

    <main>
        <!-- Introduction -->
        <section id="intro" class="section">
            <h2>Welcome, Agent!</h2>
            <p>This site is based on the classic <strong>"Usborne Computer Spy Games"</strong> book from 1984, which taught programming through exciting spy-themed games. We've translated the original BASIC code into modern JavaScript and Python to help you learn programming concepts that are still fundamental today.</p>

            <div class="info-box">
                <h3>How to Use This Site</h3>
                <ul>
                    <li>Each section shows the <span class="basic-highlight">original BASIC code</span></li>
                    <li>Alongside the <span class="js-highlight">JavaScript equivalent</span></li>
                    <li>And the <span class="python-highlight">Python equivalent</span></li>
                    <li>Many sections include <strong>interactive demos</strong> you can play!</li>
                </ul>
            </div>
        </section>

        <!-- BASIC Fundamentals -->
        <section id="basics" class="section">
            <h2>BASIC Fundamentals</h2>
            <p>Before diving into the games, let's learn the core BASIC commands and their modern equivalents.</p>

            <div class="concept">
                <h3>PRINT - Output Text</h3>
                <p>The most fundamental command - displaying text to the user.</p>
                <div class="code-comparison">
                    <div class="code-block basic">
                        <h4>BASIC</h4>
                        <pre><code>10 PRINT "HELLO, AGENT!"
20 PRINT "YOUR MISSION AWAITS"
30 PRINT A</code></pre>
                    </div>
                    <div class="code-block javascript">
                        <h4>JavaScript</h4>
                        <pre><code>console.log("HELLO, AGENT!");
console.log("YOUR MISSION AWAITS");
console.log(a);

// Or for web pages:
document.write("HELLO, AGENT!");</code></pre>
                    </div>
                    <div class="code-block python">
                        <h4>Python</h4>
                        <pre><code>print("HELLO, AGENT!")
print("YOUR MISSION AWAITS")
print(a)</code></pre>
                    </div>
                </div>
            </div>

            <div class="concept">
                <h3>INPUT - Get User Input</h3>
                <p>Asking the user for information and storing it in a variable.</p>
                <div class="code-comparison">
                    <div class="code-block basic">
                        <h4>BASIC</h4>
                        <pre><code>10 INPUT "ENTER CODE NAME";N$
20 INPUT "ENTER SECRET NUMBER";X
30 PRINT "WELCOME, ";N$</code></pre>
                    </div>
                    <div class="code-block javascript">
                        <h4>JavaScript</h4>
                        <pre><code>// In browser:
let name = prompt("ENTER CODE NAME");
let x = parseInt(prompt("ENTER SECRET NUMBER"));
console.log("WELCOME, " + name);

// In Node.js (async):
const readline = require('readline');
const rl = readline.createInterface({
    input: process.stdin,
    output: process.stdout
});
rl.question("ENTER CODE NAME: ", (name) => {
    console.log("WELCOME, " + name);
});</code></pre>
                    </div>
                    <div class="code-block python">
                        <h4>Python</h4>
                        <pre><code>name = input("ENTER CODE NAME: ")
x = int(input("ENTER SECRET NUMBER: "))
print("WELCOME,", name)</code></pre>
                    </div>
                </div>
            </div>

            <div class="concept">
                <h3>Variables</h3>
                <p>In BASIC, variables ending in $ hold strings (text), others hold numbers.</p>
                <div class="code-comparison">
                    <div class="code-block basic">
                        <h4>BASIC</h4>
                        <pre><code>10 LET A = 10
20 LET B$ = "SPY"
30 LET C = A + 5
40 DIM D(10)
50 D(1) = 100</code></pre>
                    </div>
                    <div class="code-block javascript">
                        <h4>JavaScript</h4>
                        <pre><code>let a = 10;
let b = "SPY";
let c = a + 5;
let d = new Array(10);  // or []
d[0] = 100;  // JS arrays start at 0</code></pre>
                    </div>
                    <div class="code-block python">
                        <h4>Python</h4>
                        <pre><code>a = 10
b = "SPY"
c = a + 5
d = [0] * 10  # Create list with 10 zeros
d[0] = 100    # Python lists start at 0</code></pre>
                    </div>
                </div>
            </div>

            <div class="concept">
                <h3>FOR...NEXT Loops</h3>
                <p>Repeating code a specific number of times.</p>
                <div class="code-comparison">
                    <div class="code-block basic">
                        <h4>BASIC</h4>
                        <pre><code>10 FOR I = 1 TO 10
20 PRINT I
30 NEXT I

40 FOR J = 10 TO 1 STEP -1
50 PRINT J
60 NEXT J</code></pre>
                    </div>
                    <div class="code-block javascript">
                        <h4>JavaScript</h4>
                        <pre><code>for (let i = 1; i <= 10; i++) {
    console.log(i);
}

for (let j = 10; j >= 1; j--) {
    console.log(j);
}</code></pre>
                    </div>
                    <div class="code-block python">
                        <h4>Python</h4>
                        <pre><code>for i in range(1, 11):
    print(i)

for j in range(10, 0, -1):
    print(j)</code></pre>
                    </div>
                </div>
            </div>

            <div class="concept">
                <h3>IF...THEN Conditionals</h3>
                <p>Making decisions based on conditions.</p>
                <div class="code-comparison">
                    <div class="code-block basic">
                        <h4>BASIC</h4>
                        <pre><code>10 IF X > 10 THEN PRINT "BIG"
20 IF X < 5 THEN GOTO 100
30 IF A$ = "YES" THEN GOSUB 500</code></pre>
                    </div>
                    <div class="code-block javascript">
                        <h4>JavaScript</h4>
                        <pre><code>if (x > 10) {
    console.log("BIG");
}
if (x < 5) {
    // equivalent to GOTO - call function
}
if (a === "YES") {
    myFunction();  // equivalent to GOSUB
}</code></pre>
                    </div>
                    <div class="code-block python">
                        <h4>Python</h4>
                        <pre><code>if x > 10:
    print("BIG")
if x < 5:
    # call function instead of GOTO
    pass
if a == "YES":
    my_function()  # equivalent to GOSUB</code></pre>
                    </div>
                </div>
            </div>

            <div class="concept">
                <h3>GOTO and GOSUB</h3>
                <p>GOTO jumps to a line. GOSUB calls a subroutine (returns with RETURN). Modern languages use functions instead.</p>
                <div class="code-comparison">
                    <div class="code-block basic">
                        <h4>BASIC</h4>
                        <pre><code>10 PRINT "START"
20 GOTO 50
30 PRINT "SKIPPED"
50 PRINT "END"

100 GOSUB 200
110 PRINT "BACK"
120 END
200 PRINT "IN SUBROUTINE"
210 RETURN</code></pre>
                    </div>
                    <div class="code-block javascript">
                        <h4>JavaScript</h4>
                        <pre><code>// No GOTO - use functions and loops
console.log("START");
// Skip directly to...
console.log("END");

// GOSUB becomes a function call:
function subroutine() {
    console.log("IN SUBROUTINE");
}
subroutine();
console.log("BACK");</code></pre>
                    </div>
                    <div class="code-block python">
                        <h4>Python</h4>
                        <pre><code># No GOTO - use functions and loops
print("START")
# Skip directly to...
print("END")

# GOSUB becomes a function call:
def subroutine():
    print("IN SUBROUTINE")

subroutine()
print("BACK")</code></pre>
                    </div>
                </div>
            </div>

            <div class="concept">
                <h3>RND - Random Numbers</h3>
                <p>Generating random numbers for games.</p>
                <div class="code-comparison">
                    <div class="code-block basic">
                        <h4>BASIC</h4>
                        <pre><code>10 X = INT(RND(1) * 10) + 1
20 REM X is now 1-10
30 Y = INT(RND(1) * 6) + 1
40 REM Y is a dice roll 1-6</code></pre>
                    </div>
                    <div class="code-block javascript">
                        <h4>JavaScript</h4>
                        <pre><code>let x = Math.floor(Math.random() * 10) + 1;
// x is now 1-10
let y = Math.floor(Math.random() * 6) + 1;
// y is a dice roll 1-6</code></pre>
                    </div>
                    <div class="code-block python">
                        <h4>Python</h4>
                        <pre><code>import random

x = random.randint(1, 10)
# x is now 1-10
y = random.randint(1, 6)
# y is a dice roll 1-6</code></pre>
                    </div>
                </div>
            </div>

            <div class="concept">
                <h3>String Functions</h3>
                <p>Manipulating text - essential for the Secret Message game!</p>
                <div class="code-comparison">
                    <div class="code-block basic">
                        <h4>BASIC</h4>
                        <pre><code>10 A$ = "SECRET"
20 PRINT LEN(A$)
30 PRINT LEFT$(A$, 3)
40 PRINT RIGHT$(A$, 3)
50 PRINT MID$(A$, 2, 3)
60 PRINT ASC("A")
70 PRINT CHR$(65)</code></pre>
                    </div>
                    <div class="code-block javascript">
                        <h4>JavaScript</h4>
                        <pre><code>let a = "SECRET";
console.log(a.length);        // 6
console.log(a.slice(0, 3));   // SEC
console.log(a.slice(-3));     // RET
console.log(a.slice(1, 4));   // ECR
console.log("A".charCodeAt(0)); // 65
console.log(String.fromCharCode(65)); // A</code></pre>
                    </div>
                    <div class="code-block python">
                        <h4>Python</h4>
                        <pre><code>a = "SECRET"
print(len(a))       # 6
print(a[:3])        # SEC
print(a[-3:])       # RET
print(a[1:4])       # ECR
print(ord("A"))     # 65
print(chr(65))      # A</code></pre>
                    </div>
                </div>
            </div>
        </section>

        <!-- Spy Eyes -->
        <section id="spy-eyes" class="section">
            <h2>Game 1: Spy Eyes</h2>
            <p class="game-desc">Test your observation skills! Watch numbers on screen - one will move. Can you spot which one?</p>

            <div class="game-info">
                <h3>How It Works</h3>
                <p>Numbers 1-9 appear at random positions. After a moment, one number shifts position. Your mission is to identify which number moved. This tests the keen observation skills every spy needs!</p>
            </div>

            <div class="code-comparison">
                <div class="code-block basic">
                    <h4>BASIC (Key Logic)</h4>
                    <pre><code>10 REM SPY EYES
20 DIM X(9), Y(9)
30 CLS
40 FOR I = 1 TO 9
50 X(I) = INT(RND(1)*20) + 1
60 Y(I) = INT(RND(1)*20) + 1
70 NEXT I
80 REM DISPLAY NUMBERS
90 FOR I = 1 TO 9
100 PRINT TAB(X(I));
110 FOR J = 1 TO Y(I): PRINT: NEXT J
120 PRINT I
130 NEXT I
140 REM PAUSE
150 FOR T = 1 TO 2000: NEXT T
160 REM MOVE ONE NUMBER
170 N = INT(RND(1)*9) + 1
180 X(N) = X(N) + INT(RND(1)*3) - 1
190 REM REDISPLAY AND ASK
200 INPUT "WHICH MOVED"; G
210 IF G = N THEN PRINT "CORRECT!"
220 IF G <> N THEN PRINT "WRONG!"</code></pre>
                </div>
                <div class="code-block javascript">
                    <h4>JavaScript</h4>
                    <pre><code>class SpyEyes {
    constructor() {
        this.positions = [];
        this.movedNumber = 0;
    }

    init() {
        // Generate random positions for 1-9
        for (let i = 1; i <= 9; i++) {
            this.positions[i] = {
                x: Math.floor(Math.random() * 300) + 50,
                y: Math.floor(Math.random() * 200) + 50
            };
        }
    }

    moveOneNumber() {
        // Pick random number 1-9
        this.movedNumber = Math.floor(Math.random() * 9) + 1;
        // Shift its position
        this.positions[this.movedNumber].x +=
            Math.floor(Math.random() * 60) - 30;
    }

    checkGuess(guess) {
        return guess === this.movedNumber;
    }
}</code></pre>
                </div>
                <div class="code-block python">
                    <h4>Python</h4>
                    <pre><code>import random
import time

class SpyEyes:
    def __init__(self):
        self.positions = {}
        self.moved_number = 0

    def init(self):
        # Generate random positions for 1-9
        for i in range(1, 10):
            self.positions[i] = {
                'x': random.randint(1, 20),
                'y': random.randint(1, 20)
            }

    def display(self):
        for i in range(1, 10):
            pos = self.positions[i]
            print(f"\033[{pos['y']};{pos['x']}H{i}")

    def move_one_number(self):
        self.moved_number = random.randint(1, 9)
        self.positions[self.moved_number]['x'] += \
            random.randint(-2, 2)

    def check_guess(self, guess):
        return guess == self.moved_number</code></pre>
                </div>
            </div>

            <div class="demo-container">
                <h3>Try It!</h3>
                <div id="spy-eyes-game" class="game-area">
                    <div id="spy-eyes-display"></div>
                    <div class="game-controls">
                        <button id="spy-eyes-start">Start Game</button>
                        <input type="number" id="spy-eyes-guess" min="1" max="9" placeholder="Which moved?">
                        <button id="spy-eyes-check">Check</button>
                    </div>
                    <p id="spy-eyes-result"></p>
                </div>
            </div>
        </section>

        <!-- Searchlight -->
        <section id="searchlight" class="section">
            <h2>Game 2: Searchlight</h2>
            <p class="game-desc">Navigate across enemy territory while avoiding the sweeping searchlight!</p>

            <div class="game-info">
                <h3>How It Works</h3>
                <p>You must cross the screen from left to right. A searchlight sweeps back and forth - if it catches you, you're spotted! Use M to move right and N to move left. Time your movements carefully!</p>
            </div>

            <div class="code-comparison">
                <div class="code-block basic">
                    <h4>BASIC (Key Logic)</h4>
                    <pre><code>10 REM SEARCHLIGHT
20 P = 1: S = 10: D = 1
30 REM P=player, S=searchlight, D=direction
40 CLS
50 REM DRAW SCENE
60 PRINT TAB(P);"*";TAB(S);"|||"
70 REM MOVE SEARCHLIGHT
80 S = S + D
90 IF S > 35 THEN D = -1
100 IF S < 5 THEN D = 1
110 REM CHECK FOR KEY
120 A$ = INKEY$
130 IF A$ = "M" THEN P = P + 1
140 IF A$ = "N" THEN P = P - 1
150 REM CHECK IF CAUGHT
160 IF P >= S AND P <= S + 3 THEN 200
170 REM CHECK IF WON
180 IF P > 38 THEN PRINT "ESCAPED!": END
190 GOTO 40
200 PRINT "CAUGHT BY SEARCHLIGHT!"</code></pre>
                </div>
                <div class="code-block javascript">
                    <h4>JavaScript</h4>
                    <pre><code>class Searchlight {
    constructor(canvas) {
        this.canvas = canvas;
        this.ctx = canvas.getContext('2d');
        this.playerX = 20;
        this.searchlightX = 200;
        this.searchlightDir = 1;
        this.gameOver = false;
        this.won = false;
    }

    update() {
        // Move searchlight
        this.searchlightX += this.searchlightDir * 3;
        if (this.searchlightX > 350) this.searchlightDir = -1;
        if (this.searchlightX < 50) this.searchlightDir = 1;

        // Check if caught
        if (Math.abs(this.playerX - this.searchlightX) < 30) {
            this.gameOver = true;
        }

        // Check if won
        if (this.playerX > 380) {
            this.won = true;
            this.gameOver = true;
        }
    }

    movePlayer(direction) {
        if (!this.gameOver) {
            this.playerX += direction * 10;
        }
    }

    draw() {
        this.ctx.fillStyle = '#000';
        this.ctx.fillRect(0, 0, 400, 200);

        // Draw searchlight beam
        this.ctx.fillStyle = 'rgba(255,255,0,0.3)';
        this.ctx.beginPath();
        this.ctx.moveTo(this.searchlightX, 0);
        this.ctx.lineTo(this.searchlightX - 30, 200);
        this.ctx.lineTo(this.searchlightX + 30, 200);
        this.ctx.fill();

        // Draw player
        this.ctx.fillStyle = '#0f0';
        this.ctx.fillRect(this.playerX - 5, 150, 10, 20);
    }
}</code></pre>
                </div>
                <div class="code-block python">
                    <h4>Python (with pygame)</h4>
                    <pre><code>import pygame

class Searchlight:
    def __init__(self):
        self.player_x = 20
        self.searchlight_x = 200
        self.searchlight_dir = 1
        self.game_over = False
        self.won = False

    def update(self):
        # Move searchlight
        self.searchlight_x += self.searchlight_dir * 3
        if self.searchlight_x > 350:
            self.searchlight_dir = -1
        if self.searchlight_x < 50:
            self.searchlight_dir = 1

        # Check if caught
        if abs(self.player_x - self.searchlight_x) < 30:
            self.game_over = True

        # Check if won
        if self.player_x > 380:
            self.won = True
            self.game_over = True

    def move_player(self, direction):
        if not self.game_over:
            self.player_x += direction * 10</code></pre>
                </div>
            </div>

            <div class="demo-container">
                <h3>Try It!</h3>
                <div id="searchlight-game" class="game-area">
                    <canvas id="searchlight-canvas" width="400" height="200"></canvas>
                    <div class="game-controls">
                        <button id="searchlight-start">Start Game</button>
                        <span class="key-hint">Use ‚Üê ‚Üí arrow keys or N/M to move</span>
                    </div>
                    <p id="searchlight-result"></p>
                </div>
            </div>
        </section>

        <!-- Robospy -->
        <section id="robospy" class="section">
            <h2>Game 3: Robospy</h2>
            <p class="game-desc">Control a tracking robot to follow enemy agents. But beware - the controls are reversed!</p>

            <div class="game-info">
                <h3>How It Works</h3>
                <p>Watch the enemy agent's movement pattern, then replicate it with your robot. The twist: pressing L moves RIGHT and R moves LEFT! This simulates operating a mirror-image remote camera.</p>
            </div>

            <div class="code-comparison">
                <div class="code-block basic">
                    <h4>BASIC (Key Logic)</h4>
                    <pre><code>10 REM ROBOSPY
20 DIM M$(10)
30 L = INT(RND(1)*5) + 3
40 REM Generate pattern
50 FOR I = 1 TO L
60 IF RND(1) > 0.5 THEN M$(I) = "L"
70 IF RND(1) <= 0.5 THEN M$(I) = "R"
80 NEXT I
90 REM Show pattern
100 PRINT "WATCH THE AGENT:"
110 P = 20
120 FOR I = 1 TO L
130 IF M$(I) = "L" THEN P = P - 2
140 IF M$(I) = "R" THEN P = P + 2
150 PRINT TAB(P); "*"
160 FOR T = 1 TO 500: NEXT T
170 NEXT I
180 REM Player repeats (reversed!)
190 PRINT "YOUR TURN (L=right, R=left):"
200 FOR I = 1 TO L
210 INPUT A$
220 REM Controls are reversed!
230 IF A$ = "L" AND M$(I) = "R" THEN 250
240 IF A$ = "R" AND M$(I) = "L" THEN 250
245 PRINT "WRONG!": END
250 NEXT I
260 PRINT "PERFECT TRACKING!"</code></pre>
                </div>
                <div class="code-block javascript">
                    <h4>JavaScript</h4>
                    <pre><code>class Robospy {
    constructor() {
        this.pattern = [];
        this.playerMoves = [];
        this.currentStep = 0;
    }

    generatePattern(length) {
        this.pattern = [];
        for (let i = 0; i < length; i++) {
            this.pattern.push(Math.random() > 0.5 ? 'L' : 'R');
        }
    }

    // Player presses L to go RIGHT, R to go LEFT
    // Must match the VISUAL movement, not the key
    checkMove(playerKey) {
        const expected = this.pattern[this.currentStep];
        // Reversed: L key matches R movement, R key matches L
        const correct = (playerKey === 'L' && expected === 'R') ||
                       (playerKey === 'R' && expected === 'L');

        if (correct) {
            this.currentStep++;
            return {
                correct: true,
                complete: this.currentStep >= this.pattern.length
            };
        }
        return { correct: false, complete: false };
    }

    reset() {
        this.currentStep = 0;
        this.playerMoves = [];
    }
}</code></pre>
                </div>
                <div class="code-block python">
                    <h4>Python</h4>
                    <pre><code>import random
import time

class Robospy:
    def __init__(self):
        self.pattern = []
        self.current_step = 0

    def generate_pattern(self, length):
        self.pattern = [
            random.choice(['L', 'R'])
            for _ in range(length)
        ]

    def show_pattern(self):
        pos = 20
        for move in self.pattern:
            pos += -2 if move == 'L' else 2
            print(' ' * pos + '*')
            time.sleep(0.5)

    def check_move(self, player_key):
        expected = self.pattern[self.current_step]
        # Controls are reversed!
        correct = ((player_key == 'L' and expected == 'R') or
                  (player_key == 'R' and expected == 'L'))

        if correct:
            self.current_step += 1
            return True
        return False

    def is_complete(self):
        return self.current_step >= len(self.pattern)</code></pre>
                </div>
            </div>

            <div class="demo-container">
                <h3>Try It!</h3>
                <div id="robospy-game" class="game-area">
                    <div id="robospy-display">
                        <div id="robospy-track"></div>
                    </div>
                    <div class="game-controls">
                        <button id="robospy-start">Start Game</button>
                        <button id="robospy-left" class="move-btn" disabled>L (moves right)</button>
                        <button id="robospy-right" class="move-btn" disabled>R (moves left)</button>
                    </div>
                    <p id="robospy-result"></p>
                    <p id="robospy-progress"></p>
                </div>
            </div>
        </section>

        <!-- Spy Q Test -->
        <section id="spy-q-test" class="section">
            <h2>Game 4: Spy Q Test</h2>
            <p class="game-desc">A recruitment test for Spy School! Sort random numbers into the correct positions.</p>

            <div class="game-info">
                <h3>How It Works</h3>
                <p>Numbers from 1-100 appear one at a time. You have 10 slots - place each number so that slot 1 has the lowest and slot 10 has the highest. You can discard numbers if they don't fit. Higher difficulty = fewer discards allowed!</p>
            </div>

            <div class="code-comparison">
                <div class="code-block basic">
                    <h4>BASIC (Key Logic)</h4>
                    <pre><code>10 REM SPY Q TEST
20 DIM S(10)
30 FOR I = 1 TO 10: S(I) = 0: NEXT I
40 D = 5: REM Discards allowed
50 FOR ROUND = 1 TO 15
60 N = INT(RND(1)*100) + 1
70 PRINT "NUMBER: "; N
80 PRINT "SLOTS: ";
90 FOR I = 1 TO 10: PRINT S(I); " "; : NEXT I
100 INPUT "PLACE IN SLOT (0=DISCARD)"; P
110 IF P = 0 THEN D = D - 1: GOTO 140
120 IF S(P) <> 0 THEN PRINT "TAKEN!": GOTO 100
130 S(P) = N
140 NEXT ROUND
150 REM CHECK ORDER
160 OK = 1
170 FOR I = 1 TO 9
180 IF S(I) > S(I+1) AND S(I+1) <> 0 THEN OK = 0
190 NEXT I
200 IF OK = 1 THEN PRINT "PASSED!"
210 IF OK = 0 THEN PRINT "FAILED!"</code></pre>
                </div>
                <div class="code-block javascript">
                    <h4>JavaScript</h4>
                    <pre><code>class SpyQTest {
    constructor() {
        this.slots = new Array(10).fill(null);
        this.discards = 5;
        this.currentNumber = 0;
        this.round = 0;
        this.maxRounds = 15;
    }

    generateNumber() {
        this.currentNumber = Math.floor(Math.random() * 100) + 1;
        this.round++;
        return this.currentNumber;
    }

    placeNumber(slot) {
        if (slot === 0) {
            // Discard
            this.discards--;
            return this.discards >= 0;
        }

        if (this.slots[slot - 1] !== null) {
            return false; // Slot taken
        }

        this.slots[slot - 1] = this.currentNumber;
        return true;
    }

    checkOrder() {
        let lastNum = 0;
        for (let i = 0; i < 10; i++) {
            if (this.slots[i] !== null) {
                if (this.slots[i] < lastNum) {
                    return false;
                }
                lastNum = this.slots[i];
            }
        }
        return true;
    }

    isGameOver() {
        return this.round >= this.maxRounds || this.discards < 0;
    }
}</code></pre>
                </div>
                <div class="code-block python">
                    <h4>Python</h4>
                    <pre><code>import random

class SpyQTest:
    def __init__(self):
        self.slots = [None] * 10
        self.discards = 5
        self.current_number = 0
        self.round = 0
        self.max_rounds = 15

    def generate_number(self):
        self.current_number = random.randint(1, 100)
        self.round += 1
        return self.current_number

    def place_number(self, slot):
        if slot == 0:
            self.discards -= 1
            return self.discards >= 0

        if self.slots[slot - 1] is not None:
            return False

        self.slots[slot - 1] = self.current_number
        return True

    def check_order(self):
        last_num = 0
        for num in self.slots:
            if num is not None:
                if num < last_num:
                    return False
                last_num = num
        return True

    def get_rank(self):
        filled = sum(1 for s in self.slots if s)
        if filled >= 9: return "MASTER SPY"
        if filled >= 7: return "SECRET AGENT"
        if filled >= 5: return "FIELD OPERATIVE"
        return "TRAINEE"</code></pre>
                </div>
            </div>

            <div class="demo-container">
                <h3>Try It!</h3>
                <div id="spyq-game" class="game-area">
                    <div id="spyq-current">Current Number: <span id="spyq-number">--</span></div>
                    <div id="spyq-slots">
                        <div class="slot" data-slot="1"><span class="slot-num">1</span><span class="slot-val">-</span></div>
                        <div class="slot" data-slot="2"><span class="slot-num">2</span><span class="slot-val">-</span></div>
                        <div class="slot" data-slot="3"><span class="slot-num">3</span><span class="slot-val">-</span></div>
                        <div class="slot" data-slot="4"><span class="slot-num">4</span><span class="slot-val">-</span></div>
                        <div class="slot" data-slot="5"><span class="slot-num">5</span><span class="slot-val">-</span></div>
                        <div class="slot" data-slot="6"><span class="slot-num">6</span><span class="slot-val">-</span></div>
                        <div class="slot" data-slot="7"><span class="slot-num">7</span><span class="slot-val">-</span></div>
                        <div class="slot" data-slot="8"><span class="slot-num">8</span><span class="slot-val">-</span></div>
                        <div class="slot" data-slot="9"><span class="slot-num">9</span><span class="slot-val">-</span></div>
                        <div class="slot" data-slot="10"><span class="slot-num">10</span><span class="slot-val">-</span></div>
                    </div>
                    <div class="game-controls">
                        <button id="spyq-start">Start Test</button>
                        <button id="spyq-discard" disabled>Discard (<span id="spyq-discards">5</span> left)</button>
                    </div>
                    <p id="spyq-info">Round: <span id="spyq-round">0</span>/15</p>
                    <p id="spyq-result"></p>
                </div>
            </div>
        </section>

        <!-- Secret Message Maker -->
        <section id="secret-message" class="section">
            <h2>Game 5: Secret Message Maker</h2>
            <p class="game-desc">Encode and decode secret messages using a Caesar cipher - just like real spies!</p>

            <div class="game-info">
                <h3>How It Works</h3>
                <p>A Caesar cipher shifts each letter by a fixed amount. With a shift of 3, A becomes D, B becomes E, etc. Both sender and receiver must know the shift key to communicate!</p>
            </div>

            <div class="code-comparison">
                <div class="code-block basic">
                    <h4>BASIC</h4>
                    <pre><code>10 REM SECRET MESSAGE MAKER
20 INPUT "ENCODE (E) OR DECODE (D)"; M$
30 INPUT "ENTER SHIFT KEY (1-25)"; K
40 INPUT "ENTER MESSAGE"; T$
50 R$ = ""
60 FOR I = 1 TO LEN(T$)
70 C$ = MID$(T$, I, 1)
80 A = ASC(C$)
90 REM Only shift A-Z (65-90)
100 IF A < 65 OR A > 90 THEN R$ = R$ + C$: GOTO 150
110 IF M$ = "E" THEN A = A + K
120 IF M$ = "D" THEN A = A - K
130 IF A > 90 THEN A = A - 26
140 IF A < 65 THEN A = A + 26
150 R$ = R$ + CHR$(A)
160 NEXT I
170 PRINT "RESULT: "; R$</code></pre>
                </div>
                <div class="code-block javascript">
                    <h4>JavaScript</h4>
                    <pre><code>function caesarCipher(text, shift, decode = false) {
    if (decode) shift = -shift;

    return text.split('').map(char => {
        const code = char.charCodeAt(0);

        // Uppercase A-Z
        if (code >= 65 && code <= 90) {
            return String.fromCharCode(
                ((code - 65 + shift + 26) % 26) + 65
            );
        }
        // Lowercase a-z
        if (code >= 97 && code <= 122) {
            return String.fromCharCode(
                ((code - 97 + shift + 26) % 26) + 97
            );
        }
        // Non-letters unchanged
        return char;
    }).join('');
}

// Usage:
const encoded = caesarCipher("MEET AT NOON", 3);
// Returns: "PHHW DW QRRQ"

const decoded = caesarCipher("PHHW DW QRRQ", 3, true);
// Returns: "MEET AT NOON"</code></pre>
                </div>
                <div class="code-block python">
                    <h4>Python</h4>
                    <pre><code>def caesar_cipher(text, shift, decode=False):
    if decode:
        shift = -shift

    result = []
    for char in text:
        if char.isalpha():
            # Determine base (A=65, a=97)
            base = ord('A') if char.isupper() else ord('a')
            # Shift and wrap around
            shifted = (ord(char) - base + shift) % 26 + base
            result.append(chr(shifted))
        else:
            result.append(char)

    return ''.join(result)

# Usage:
encoded = caesar_cipher("MEET AT NOON", 3)
# Returns: "PHHW DW QRRQ"

decoded = caesar_cipher("PHHW DW QRRQ", 3, decode=True)
# Returns: "MEET AT NOON"</code></pre>
                </div>
            </div>

            <div class="demo-container">
                <h3>Try It!</h3>
                <div id="cipher-game" class="game-area">
                    <div class="cipher-controls">
                        <div class="mode-select">
                            <label><input type="radio" name="cipher-mode" value="encode" checked> Encode</label>
                            <label><input type="radio" name="cipher-mode" value="decode"> Decode</label>
                        </div>
                        <div class="shift-control">
                            <label>Shift Key: <input type="number" id="cipher-shift" min="1" max="25" value="3"></label>
                        </div>
                    </div>
                    <textarea id="cipher-input" placeholder="Enter your message here..."></textarea>
                    <button id="cipher-go">Transform</button>
                    <div id="cipher-output"></div>
                    <div id="cipher-visual">
                        <div class="alphabet-row" id="plain-alphabet"></div>
                        <div class="alphabet-row" id="cipher-alphabet"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Morse Coder -->
        <section id="morse-coder" class="section">
            <h2>Game 6: Morse Coder</h2>
            <p class="game-desc">Learn Morse code - the classic spy communication method!</p>

            <div class="game-info">
                <h3>How It Works</h3>
                <p>Morse code represents letters as combinations of dots (.) and dashes (-). A flashing light shows short flashes (dots) and long flashes (dashes). Learn to read and send messages like a real spy!</p>
            </div>

            <div class="code-comparison">
                <div class="code-block basic">
                    <h4>BASIC</h4>
                    <pre><code>10 REM MORSE CODER
20 DIM M$(26)
30 REM Store Morse for A-Z
40 M$(1) = ".-": M$(2) = "-..."
50 M$(3) = "-.-.": M$(4) = "-.."
60 REM ... (continue for all letters)
70 INPUT "ENTER MESSAGE"; T$
80 FOR I = 1 TO LEN(T$)
90 C$ = MID$(T$, I, 1)
100 IF C$ = " " THEN PRINT "  ": GOTO 160
110 A = ASC(C$) - 64
120 IF A < 1 OR A > 26 THEN 160
130 M$ = M$(A)
140 REM Flash the code
150 FOR J = 1 TO LEN(M$)
160 D$ = MID$(M$, J, 1)
170 IF D$ = "." THEN GOSUB 300
180 IF D$ = "-" THEN GOSUB 400
190 NEXT J
200 NEXT I
210 END
300 REM SHORT FLASH (DOT)
310 PRINT "*";
320 FOR T = 1 TO 100: NEXT T
330 RETURN
400 REM LONG FLASH (DASH)
410 PRINT "***";
420 FOR T = 1 TO 300: NEXT T
430 RETURN</code></pre>
                </div>
                <div class="code-block javascript">
                    <h4>JavaScript</h4>
                    <pre><code>const MORSE_CODE = {
    'A': '.-',    'B': '-...',  'C': '-.-.',
    'D': '-..',   'E': '.',     'F': '..-.',
    'G': '--.',   'H': '....',  'I': '..',
    'J': '.---',  'K': '-.-',   'L': '.-..',
    'M': '--',    'N': '-.',    'O': '---',
    'P': '.--.',  'Q': '--.-',  'R': '.-.',
    'S': '...',   'T': '-',     'U': '..-',
    'V': '...-',  'W': '.--',   'X': '-..-',
    'Y': '-.--',  'Z': '--..',
    '0': '-----', '1': '.----', '2': '..---',
    '3': '...--', '4': '....-', '5': '.....',
    '6': '-....', '7': '--...', '8': '---..',
    '9': '----.'
};

function textToMorse(text) {
    return text.toUpperCase().split('').map(char => {
        if (char === ' ') return '/';
        return MORSE_CODE[char] || '';
    }).join(' ');
}

function morseToText(morse) {
    const REVERSE = Object.fromEntries(
        Object.entries(MORSE_CODE).map(([k,v]) => [v,k])
    );
    return morse.split(' ').map(code => {
        if (code === '/') return ' ';
        return REVERSE[code] || '';
    }).join('');
}</code></pre>
                </div>
                <div class="code-block python">
                    <h4>Python</h4>
                    <pre><code>MORSE_CODE = {
    'A': '.-',    'B': '-...',  'C': '-.-.',
    'D': '-..',   'E': '.',     'F': '..-.',
    'G': '--.',   'H': '....',  'I': '..',
    'J': '.---',  'K': '-.-',   'L': '.-..',
    'M': '--',    'N': '-.',    'O': '---',
    'P': '.--.',  'Q': '--.-',  'R': '.-.',
    'S': '...',   'T': '-',     'U': '..-',
    'V': '...-',  'W': '.--',   'X': '-..-',
    'Y': '-.--',  'Z': '--..',
    '0': '-----', '1': '.----', '2': '..---',
    '3': '...--', '4': '....-', '5': '.....',
    '6': '-....', '7': '--...', '8': '---..',
    '9': '----.'
}

def text_to_morse(text):
    result = []
    for char in text.upper():
        if char == ' ':
            result.append('/')
        elif char in MORSE_CODE:
            result.append(MORSE_CODE[char])
    return ' '.join(result)

def morse_to_text(morse):
    reverse = {v: k for k, v in MORSE_CODE.items()}
    result = []
    for code in morse.split(' '):
        if code == '/':
            result.append(' ')
        elif code in reverse:
            result.append(reverse[code])
    return ''.join(result)</code></pre>
                </div>
            </div>

            <div class="demo-container">
                <h3>Try It!</h3>
                <div id="morse-game" class="game-area">
                    <div id="morse-lamp"></div>
                    <div class="morse-controls">
                        <div class="mode-select">
                            <label><input type="radio" name="morse-mode" value="text" checked> Text ‚Üí Morse</label>
                            <label><input type="radio" name="morse-mode" value="morse"> Morse ‚Üí Text</label>
                        </div>
                    </div>
                    <textarea id="morse-input" placeholder="Enter text or morse code (use . and -)"></textarea>
                    <button id="morse-convert">Convert</button>
                    <button id="morse-play">Play Sound/Light</button>
                    <div id="morse-output"></div>
                    <div id="morse-reference">
                        <h4>Morse Code Reference</h4>
                        <div id="morse-chart"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Learning Summary -->
        <section id="summary" class="section">
            <h2>What You've Learned</h2>
            <div class="summary-grid">
                <div class="summary-card">
                    <h3>Core Concepts</h3>
                    <ul>
                        <li>Variables and data types</li>
                        <li>Loops (FOR, WHILE)</li>
                        <li>Conditionals (IF/THEN)</li>
                        <li>Functions/Subroutines</li>
                        <li>Arrays/Lists</li>
                    </ul>
                </div>
                <div class="summary-card">
                    <h3>Game Programming</h3>
                    <ul>
                        <li>Game loops</li>
                        <li>User input handling</li>
                        <li>Random number generation</li>
                        <li>Collision detection</li>
                        <li>State management</li>
                    </ul>
                </div>
                <div class="summary-card">
                    <h3>Practical Skills</h3>
                    <ul>
                        <li>String manipulation</li>
                        <li>Character encoding (ASCII)</li>
                        <li>Basic cryptography</li>
                        <li>Pattern matching</li>
                        <li>Algorithm design</li>
                    </ul>
                </div>
            </div>

            <div class="next-steps">
                <h3>Next Steps</h3>
                <p>Now that you understand these fundamentals, try:</p>
                <ul>
                    <li>Modifying the games - add new features!</li>
                    <li>Creating your own spy game using these concepts</li>
                    <li>Learning about modern game frameworks (Phaser.js, Pygame)</li>
                    <li>Exploring more advanced cryptography</li>
                </ul>
            </div>
        </section>
    </main>

    <footer>
        <p>Based on "Usborne Computer Spy Games" (1984) by Jenny Tyler and Chris Oxlade</p>
        <p>Educational adaptation for modern programming languages</p>
    </footer>

    <script src="spygames.js"></script>
</body>
</html>
