<!doctype html><html lang=en-us><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>AWS CI/CD Pipeline Examples // rowstu.net</title><link rel=stylesheet href=/assets/shared-theme.css><style>.markdown-content{max-width:900px;margin:0 auto;line-height:1.7}.markdown-content h1{font-size:2.5rem;margin-bottom:1rem;color:var(--accent-teal);border-bottom:2px solid var(--border);padding-bottom:.5rem}.markdown-content h2{font-size:2rem;margin-top:2rem;margin-bottom:1rem;color:var(--accent-orange)}.markdown-content h3{font-size:1.5rem;margin-top:1.5rem;margin-bottom:.75rem;color:var(--text-primary)}.markdown-content p{margin-bottom:1rem}.markdown-content code{background:var(--bg-light);padding:.2rem .4rem;border-radius:3px;font-family:jetbrains mono,monospace;font-size:.9em}.markdown-content pre{background:var(--bg-light);padding:1rem;border-radius:6px;overflow-x:auto;margin-bottom:1rem}.markdown-content pre code{background:0 0;padding:0}.markdown-content a{color:var(--accent-teal);text-decoration:none}.markdown-content a:hover{text-decoration:underline}.markdown-content ul,.markdown-content ol{margin-bottom:1rem;padding-left:2rem}.markdown-content li{margin-bottom:.5rem}.markdown-content blockquote{border-left:4px solid var(--accent-teal);padding-left:1rem;margin:1rem 0;color:var(--text-secondary);font-style:italic}.markdown-content table{width:100%;border-collapse:collapse;margin-bottom:1rem}.markdown-content th,.markdown-content td{border:1px solid var(--border);padding:.75rem;text-align:left}.markdown-content th{background:var(--bg-light);font-weight:600}.breadcrumb{padding:1rem 0;color:var(--text-secondary);font-size:.95rem}.breadcrumb a{color:var(--accent-teal);text-decoration:none}.breadcrumb a:hover{text-decoration:underline}</style></head><body><div class=app-header><h1 class=app-title>AWS CI/CD Pipeline Examples</h1></div><div class=container><div class=breadcrumb><a href=/>Home</a> / <a href=/browse/>Browse</a>/ <a href=/awscicd-aws-github/>Awscicd Aws Github</a></div><div class="card markdown-content"><h2 id=github-actions-example>GitHub Actions Example</h2><h3 id=cigithub-actionsdeployyml><code>ci/github-actions/deploy.yml</code></h3><p>This pipeline:</p><ul><li>Builds and deploys code to S3</li><li>Optionally triggers Lambda deployment</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>name</span>: <span style=color:#ae81ff>Deploy to AWS</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>on</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>push</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>branches</span>:
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>jobs</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>deploy</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>runs-on</span>: <span style=color:#ae81ff>ubuntu-latest</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>steps</span>:
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Checkout repo</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>actions/checkout@v4</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Install AWS CLI</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>run</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          sudo apt update
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          sudo apt install -y awscli</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Configure AWS credentials</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>env</span>:
</span></span><span style=display:flex><span>          <span style=color:#f92672>AWS_ACCESS_KEY_ID</span>: <span style=color:#ae81ff>${{ secrets.AWS_ACCESS_KEY_ID }}</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>AWS_SECRET_ACCESS_KEY</span>: <span style=color:#ae81ff>${{ secrets.AWS_SECRET_ACCESS_KEY }}</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>AWS_REGION</span>: <span style=color:#ae81ff>us-east-1</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>run</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          aws configure set aws_access_key_id &#34;$AWS_ACCESS_KEY_ID&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          aws configure set aws_secret_access_key &#34;$AWS_SECRET_ACCESS_KEY&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          aws configure set region &#34;$AWS_REGION&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Deploy to S3</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>run</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          ./scripts/s3/sync-to-s3.sh \
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            BUCKET=&#34;my-prod-bucket&#34; \
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            LOCAL_DIR=&#34;./build&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Deploy Lambda (optional)</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>run</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          ./scripts/lambda/deploy-lambda.sh \
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            FUNCTION_NAME=&#34;my-function&#34; \
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            ZIP_FILE=&#34;./build/function.zip&#34; \
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            ROLE_ARN=&#34;arn:aws:iam::123456789012:role/lambda-role&#34;</span>
</span></span></code></pre></div><hr><h2 id=github-actions-example-ec2-deployment>GitHub Actions Example (EC2 Deployment)</h2><h3 id=cigithub-actionsdeploy-ec2yml><code>ci/github-actions/deploy-ec2.yml</code></h3><p>This pipeline launches an EC2 instance and tags it.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>name</span>: <span style=color:#ae81ff>Deploy EC2</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>on</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>workflow_dispatch</span>:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>jobs</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>deploy-ec2</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>runs-on</span>: <span style=color:#ae81ff>ubuntu-latest</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>steps</span>:
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Checkout</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>actions/checkout@v4</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Install AWS CLI</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>run</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          sudo apt update
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          sudo apt install -y awscli</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Configure AWS</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>env</span>:
</span></span><span style=display:flex><span>          <span style=color:#f92672>AWS_ACCESS_KEY_ID</span>: <span style=color:#ae81ff>${{ secrets.AWS_ACCESS_KEY_ID }}</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>AWS_SECRET_ACCESS_KEY</span>: <span style=color:#ae81ff>${{ secrets.AWS_SECRET_ACCESS_KEY }}</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>AWS_REGION</span>: <span style=color:#ae81ff>us-east-1</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>run</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          aws configure set aws_access_key_id &#34;$AWS_ACCESS_KEY_ID&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          aws configure set aws_secret_access_key &#34;$AWS_SECRET_ACCESS_KEY&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          aws configure set region &#34;$AWS_REGION&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Launch EC2</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>run</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          ./scripts/ec2/launch-ec2.sh \
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            AMI_ID=&#34;ami-0abcdef1234567890&#34; \
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            KEY_NAME=&#34;my-keypair&#34; \
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            SEC_GROUP=&#34;sg-0123456789abcdef0&#34; \
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            SUBNET_ID=&#34;subnet-0123456789abcdef0&#34;</span>
</span></span></code></pre></div><hr><hr><h1 id=best-practice-notes>Best Practice Notes</h1><h3 id=security><strong>Security</strong></h3><ul><li>Never commit credentials</li><li>Use <strong>GitHub Secrets</strong></li><li>Prefer <strong>IAM Roles + OIDC</strong> for GitHub Actions (recommended)</li></ul><h3 id=efficiency><strong>Efficiency</strong></h3><ul><li>Use <code>--query</code> to reduce output</li><li>Use <code>--no-cli-pager</code> for scripts</li><li>Use <code>aws configure set</code> inside CI for clean environment</li></ul></div></div><script src=/assets/shared-nav.js></script></body></html>