<!doctype html><html lang=en-us><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>OpenShift & Kubernetes // rowstu.net</title><link rel=stylesheet href=/assets/shared-theme.css><style>.markdown-content{max-width:900px;margin:0 auto;line-height:1.7}.markdown-content h1{font-size:2.5rem;margin-bottom:1rem;color:var(--accent-teal);border-bottom:2px solid var(--border);padding-bottom:.5rem}.markdown-content h2{font-size:2rem;margin-top:2rem;margin-bottom:1rem;color:var(--accent-orange)}.markdown-content h3{font-size:1.5rem;margin-top:1.5rem;margin-bottom:.75rem;color:var(--text-primary)}.markdown-content p{margin-bottom:1rem}.markdown-content code{background:var(--bg-light);padding:.2rem .4rem;border-radius:3px;font-family:jetbrains mono,monospace;font-size:.9em}.markdown-content pre{background:var(--bg-light);padding:1rem;border-radius:6px;overflow-x:auto;margin-bottom:1rem}.markdown-content pre code{background:0 0;padding:0}.markdown-content a{color:var(--accent-teal);text-decoration:none}.markdown-content a:hover{text-decoration:underline}.markdown-content ul,.markdown-content ol{margin-bottom:1rem;padding-left:2rem}.markdown-content li{margin-bottom:.5rem}.markdown-content blockquote{border-left:4px solid var(--accent-teal);padding-left:1rem;margin:1rem 0;color:var(--text-secondary);font-style:italic}.markdown-content table{width:100%;border-collapse:collapse;margin-bottom:1rem}.markdown-content th,.markdown-content td{border:1px solid var(--border);padding:.75rem;text-align:left}.markdown-content th{background:var(--bg-light);font-weight:600}.breadcrumb{padding:1rem 0;color:var(--text-secondary);font-size:.95rem}.breadcrumb a{color:var(--accent-teal);text-decoration:none}.breadcrumb a:hover{text-decoration:underline}</style></head><body><div class=app-header><h1 class=app-title>OpenShift & Kubernetes</h1></div><div class=container><div class=breadcrumb><a href=/>Home</a> / <a href=/browse/>Browse</a>/ <a href=/kubernetesopenshift/>Kubernetesopenshift</a></div><div class="card markdown-content"><h3 id=what-openshift-is>What OpenShift Is</h3><p><strong>OpenShift</strong> is <strong>Red Hat’s enterprise Kubernetes distribution</strong> that:</p><ul><li>Ships with Kubernetes plus opinionated defaults</li><li>Adds enterprise security, CI/CD, and developer tooling</li><li>Enforces stricter security (non-root containers by default)</li><li>Includes built-in components (Ingress, Registry, Monitoring, OAuth)</li></ul><p>Think of OpenShift as:</p><blockquote><p><strong>“Kubernetes + guardrails + batteries included”</strong></p></blockquote><hr><h3 id=how-they-relate>How They Relate</h3><table><thead><tr><th>Kubernetes</th><th>OpenShift</th></tr></thead><tbody><tr><td>Upstream project</td><td>Enterprise distribution</td></tr><tr><td>DIY setup</td><td>Opinionated & integrated</td></tr><tr><td>Flexible but risky</td><td>Secure by default</td></tr><tr><td>Many add-ons</td><td>Built-in platform services</td></tr></tbody></table><p>OpenShift <strong>is Kubernetes</strong>, but <strong>not all Kubernetes clusters behave like OpenShift</strong>.</p><hr><h3 id=core-architecture-both-platforms>Core Architecture (Both Platforms)</h3><h4 id=control-plane>Control Plane</h4><ul><li><strong>API Server</strong> – All interactions go through it</li><li><strong>etcd</strong> – Cluster state database</li><li><strong>Scheduler</strong> – Places Pods on nodes</li><li><strong>Controller Manager</strong> – Reconciliation loops</li></ul><h4 id=worker-nodes>Worker Nodes</h4><ul><li><strong>kubelet</strong> – Node agent</li><li><strong>Container Runtime</strong> – CRI-O (OpenShift), containerd/Docker (K8s)</li><li><strong>kube-proxy</strong> – Networking rules</li></ul><h4 id=openshift-extras>OpenShift Extras</h4><ul><li><strong>Operators</strong> (core concept)</li><li><strong>OAuth Server</strong></li><li><strong>Ingress Controller (HAProxy)</strong></li><li><strong>Internal Image Registry</strong></li><li><strong>OLM (Operator Lifecycle Manager)</strong></li></ul><hr><h2 id=installation-and-configuration>Installation and Configuration</h2><h3 id=openshift-installation-high-level-procedure>OpenShift Installation (High-Level Procedure)</h3><blockquote><p>OpenShift installation is <strong>installer-driven</strong>, not hand-built.</p></blockquote><h4 id=typical-flow-ipi--installer-provisioned-infrastructure>Typical Flow (IPI – Installer Provisioned Infrastructure)</h4><ol><li><p>Obtain <strong>pull secret</strong> from Red Hat</p></li><li><p>Download <code>openshift-install</code></p></li><li><p>Generate install config:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>openshift-install create install-config
</span></span></code></pre></div></li><li><p>Edit <code>install-config.yaml</code></p><ul><li>Platform (bare metal, AWS, vSphere)</li><li>Networking CIDRs</li><li>Compute/control plane sizing</li></ul></li><li><p>Run installer:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>openshift-install create cluster
</span></span></code></pre></div></li><li><p>Access cluster via:</p><ul><li>Web console</li><li><code>oc</code> CLI</li></ul></li></ol><h4 id=bare-metal-upi-notes>Bare Metal (UPI) Notes</h4><ul><li>Requires DNS, load balancers, DHCP/IPMI</li><li>Plan this carefully; most failures happen here</li></ul><hr><h3 id=kubernetes-installation-best-practices>Kubernetes Installation (Best Practices)</h3><h4 id=recommended-approaches>Recommended Approaches</h4><ul><li><strong>kubeadm</strong> (learning & small clusters)</li><li><strong>Managed services</strong> (EKS/GKE/AKS)</li><li><strong>Distributions</strong> (RKE2, k3s)</li></ul><p>Avoid:</p><ul><li>Manually assembling components unless learning internals</li></ul><h4 id=baseline-best-practices>Baseline Best Practices</h4><ul><li>Separate etcd from workloads (production)</li><li>Use <strong>odd number of control plane nodes</strong></li><li>Enable <strong>Pod Security Admission</strong></li><li>Use <strong>containerd</strong> (Docker is deprecated)</li></ul><hr><h3 id=configuration-best-practices-both>Configuration Best Practices (Both)</h3><ul><li>Treat cluster config as <strong>immutable</strong></li><li>Use GitOps for changes</li><li>Never manually edit running resources without tracking</li><li>Keep API versions current (<code>v1</code>, <code>apps/v1</code> only)</li></ul><hr><h2 id=deployment-and-management>Deployment and Management</h2><h3 id=core-workload-objects>Core Workload Objects</h3><table><thead><tr><th>Object</th><th>Purpose</th></tr></thead><tbody><tr><td>Pod</td><td>Smallest unit</td></tr><tr><td>Deployment</td><td>Stateless apps</td></tr><tr><td>StatefulSet</td><td>Databases, stateful apps</td></tr><tr><td>DaemonSet</td><td>Node-level agents</td></tr><tr><td>Job / CronJob</td><td>Batch workloads</td></tr></tbody></table><hr><h3 id=deploying-applications>Deploying Applications</h3><h4 id=kubernetes-yaml-example>Kubernetes (YAML example)</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>apps/v1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>Deployment</span>
</span></span><span style=display:flex><span><span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>replicas</span>: <span style=color:#ae81ff>3</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>template</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>containers</span>:
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>app</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>image</span>: <span style=color:#ae81ff>nginx</span>
</span></span></code></pre></div><h4 id=openshift-enhancements>OpenShift Enhancements</h4><ul><li><strong>DeploymentConfig</strong> (legacy, avoid for new workloads)</li><li><strong>Source-to-Image (S2I)</strong></li><li><strong>BuildConfigs</strong></li><li>Integrated image streams</li></ul><p><strong>Best practice:</strong>
➡ Use <strong>standard Kubernetes Deployments</strong>, even on OpenShift, unless you need S2I.</p><hr><h3 id=resource-management-critical>Resource Management (Critical)</h3><h4 id=requests--limits-non-optional-in-production>Requests & Limits (Non-Optional in Production)</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>resources</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>requests</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>cpu</span>: <span style=color:#e6db74>&#34;250m&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>memory</span>: <span style=color:#e6db74>&#34;256Mi&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>limits</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>cpu</span>: <span style=color:#e6db74>&#34;500m&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>memory</span>: <span style=color:#e6db74>&#34;512Mi&#34;</span>
</span></span></code></pre></div><p>Why it matters:</p><ul><li>Scheduler decisions</li><li>Prevents noisy neighbors</li><li>Enables autoscaling</li></ul><hr><h3 id=autoscaling>Autoscaling</h3><ul><li><strong>HPA</strong> – CPU/memory-based scaling</li><li><strong>VPA</strong> – Adjusts resource requests</li><li><strong>Cluster Autoscaler</strong> – Node scaling</li></ul><p><strong>Rule:</strong></p><blockquote><p>If you don’t set requests, autoscaling is meaningless.</p></blockquote><hr><h2 id=networking-and-security>Networking and Security</h2><h3 id=networking-architecture>Networking Architecture</h3><h4 id=kubernetes-model>Kubernetes Model</h4><ul><li>Every Pod gets a routable IP</li><li>Flat network (no NAT between Pods)</li><li>CNI plugin handles routing</li></ul><h4 id=openshift-cni>OpenShift CNI</h4><ul><li>OVN-Kubernetes (default)</li><li>Built-in NetworkPolicy support</li><li>Multus for multiple interfaces</li></ul><hr><h3 id=services--ingress>Services & Ingress</h3><table><thead><tr><th>Component</th><th>Kubernetes</th><th>OpenShift</th></tr></thead><tbody><tr><td>Service</td><td>ClusterIP, NodePort, LB</td><td>Same</td></tr><tr><td>Ingress</td><td>Ingress Controller</td><td>Routes</td></tr><tr><td>TLS</td><td>Manual</td><td>Integrated</td></tr></tbody></table><h4 id=openshift-route-example>OpenShift Route Example</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>Route</span>
</span></span><span style=display:flex><span><span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>to</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>kind</span>: <span style=color:#ae81ff>Service</span>
</span></span></code></pre></div><hr><h3 id=network-policies-best-practice>Network Policies (Best Practice)</h3><ul><li><strong>Deny by default</strong></li><li>Explicitly allow required traffic</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>policyTypes</span>:
</span></span><span style=display:flex><span>- <span style=color:#ae81ff>Ingress</span>
</span></span></code></pre></div><p>Without policies:</p><blockquote><p>Every Pod can talk to every Pod (bad in prod).</p></blockquote><hr><h3 id=security-major-differentiator>Security (Major Differentiator)</h3><h4 id=openshift-security-model>OpenShift Security Model</h4><ul><li>Containers run as <strong>random UID</strong></li><li>No root by default</li><li>SELinux enforced</li><li>SCCs (Security Context Constraints)</li></ul><h4 id=kubernetes-equivalent>Kubernetes Equivalent</h4><ul><li>PodSecurity Admission</li><li>RBAC + PSP replacement</li></ul><p><strong>Best Practice:</strong></p><ul><li>Design containers to be <strong>non-root</strong></li><li>Avoid <code>privileged: true</code></li><li>Do not disable SCCs to “make it work”</li></ul><hr><h3 id=rbac>RBAC</h3><ul><li><p>Principle of least privilege</p></li><li><p>Separate:</p><ul><li>Cluster admins</li><li>App operators</li><li>CI/CD service accounts</li></ul></li></ul><p>Never:</p><ul><li>Bind <code>cluster-admin</code> to apps</li></ul><hr><h2 id=monitoring-and-logging>Monitoring and Logging</h2><h3 id=monitoring>Monitoring</h3><h4 id=kubernetes-common-tools>Kubernetes Common Tools</h4><ul><li>Prometheus</li><li>Grafana</li><li>Alertmanager</li></ul><h4 id=openshift-built-in-stack>OpenShift Built-in Stack</h4><ul><li>Cluster Monitoring Operator</li><li>User Workload Monitoring</li><li>Pre-built dashboards</li></ul><p><strong>Best Practices</strong></p><ul><li><p>Monitor:</p><ul><li>CPU throttling</li><li>Memory OOMKills</li><li>Pod restarts</li><li>API latency</li></ul></li><li><p>Alert on symptoms, not noise</p></li></ul><hr><h3 id=logging>Logging</h3><h4 id=typical-stack>Typical Stack</h4><ul><li>Fluentd / Vector</li><li>Elasticsearch / Loki</li><li>Kibana / Grafana</li></ul><h4 id=openshift-logging>OpenShift Logging</h4><ul><li>LokiStack (preferred)</li><li>Cluster Logging Operator</li></ul><p><strong>Log Guidelines</strong></p><ul><li>Log to stdout/stderr</li><li>Structured logs (JSON)</li><li>No app writes logs to disk</li></ul><hr><h2 id=troubleshooting-and-support>Troubleshooting and Support</h2><h3 id=common-issues--solutions>Common Issues & Solutions</h3><h4 id=pod-crashloopbackoff>Pod CrashLoopBackOff</h4><ul><li><p>Check:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl logs pod
</span></span><span style=display:flex><span>kubectl describe pod
</span></span></code></pre></div></li><li><p>Often:</p><ul><li>Missing env vars</li><li>Bad config</li><li>Permissions issue (OpenShift)</li></ul></li></ul><hr><h4 id=pending-pods>Pending Pods</h4><ul><li><p>Check:</p><ul><li>Resource requests too high</li><li>Node selectors / taints</li><li>PVC not bound</li></ul></li></ul><hr><h4 id=image-pull-errors>Image Pull Errors</h4><ul><li>Registry auth</li><li>ImagePullSecrets</li><li>Wrong image reference</li></ul><hr><h3 id=debugging-tools>Debugging Tools</h3><ul><li><code>kubectl/oc describe</code></li><li><code>kubectl/oc logs</code></li><li><code>kubectl/oc exec</code></li><li><code>oc debug node</code></li></ul><p>OpenShift bonus:</p><ul><li>Web console diagnostics</li><li>Operator status insights</li></ul><hr><h3 id=learning--support-resources>Learning & Support Resources</h3><ul><li>Kubernetes Docs (upstream)</li><li>OpenShift Docs (Red Hat)</li><li>CNCF Slack</li><li>GitHub Issues</li><li>Red Hat Knowledgebase (OpenShift)</li></ul><hr><h2 id=case-studies--real-world-examples>Case Studies / Real-World Examples</h2><h3 id=case-1-stateless-web-application>Case 1: Stateless Web Application</h3><ul><li>Deployment + Service + Route</li><li>HPA enabled</li><li>Rolling updates</li><li>Zero downtime</li></ul><p><strong>Key Takeaway:</strong>
Stateless workloads are Kubernetes’ sweet spot.</p><hr><h3 id=case-2-database-on-openshift>Case 2: Database on OpenShift</h3><ul><li>StatefulSet</li><li>PersistentVolumeClaims</li><li>PodDisruptionBudgets</li><li>Backups via Operator</li></ul><p><strong>Key Takeaway:</strong>
Stateful apps work—but require discipline.</p><hr><h3 id=case-3-enterprise-platform-openshift>Case 3: Enterprise Platform (OpenShift)</h3><ul><li>Multi-tenant namespaces</li><li>NetworkPolicies per team</li><li>GitOps (ArgoCD)</li><li>Centralized logging/monitoring</li></ul></div></div><script src=/assets/shared-nav.js></script></body></html>